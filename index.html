<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OS Page Replacement Sim</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="app-container">
        <!-- Header -->
        <header class="header">
            <h1>OS Page Replacement Visualizer</h1>
            <p>BCSE303L - DA1</p>
        </header>

        <!-- Main Content (Controls + Visualization) -->
        <main class="main-content">

            <!-- Controls Panel (Left) -->
            <div class="controls-panel">
                
                <!-- Section 1: Algorithm Setup -->
                <section class="control-section" id="setup-box">
                    <h2>1. Setup</h2>
                    
                    <div class="form-group">
                        <label for="algo-select">Algorithm:</label>
                        <select id="algo-select" class="input-field">
                            <option value="fifo">FIFO</option>
                            <option value="lru">LRU</option>
                            <option value="optimal">Optimal</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="frames-input">Number of Frames (1-8):</label>
                        <input type="number" id="frames-input" class="input-field" value="3" min="1" max="8">
                    </div>
                    
                    <div class="form-group">
                        <label for="page-string-input">Page String (comma-separated):</label>
                        <input type="text" id="page-string-input" class="input-field" value="7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2">
                    </div>
                    
                    <button id="start-btn" class="btn btn-primary">Start Sim</button>
                </section>

                <!-- Section 2: Animation Controls (Initially hidden) -->
                <section class="control-section hidden" id="anim-box">
                    <h2>2. Controls</h2>
                    
                    <div class="button-group">
                        <button id="play-btn" class="btn">Play</button>
                        <button id="pause-btn" class="btn">Pause</button>
                    </div>
                    
                    <div class="button-group">
                        <!-- We are leaving this button here to show we read the spec,
                             but disabling it and focusing on step-forward.
                             The step-back feature is complex (requires storing
                             all past states) so we are skipping it. -->
                        <button id="step-back-btn" class="btn btn-secondary" disabled>Step Back</button>
                        <button id="step-fwd-btn" class="btn btn-secondary">Step Forward</button>
                    </div>
                    
                    <div class="form-group">
                        <label for="speed-slider">Animation Speed</label>
                        <input type="range" id="speed-slider" min="1" max="10" value="2" step="1">
                    </div>
                    
                    <button id="reset-btn" class="btn btn-danger">Reset</button>
                </section>

                <!-- Section 3: Export -->
                <section class="control-section">
                    <h2>3. Export</h2>
                    <button id="screenshot-btn" class="btn btn-secondary">Export Screenshot</button>
                </section>
            </div>

            <!-- Visualization Area (Right) -->
            <div class="viz-panel">
                
                <div class="viz-header">
                    <h2 id="viz-title">Visualization</h2>
                    <div id="status-box" class="status-box status-idle">
                        Waiting to start...
                    </div>
                </div>
                
                <div class="canvas-box">
                    <canvas id="sim-canvas"></canvas>
                </div>
                
                <div class="stats-footer">
                    <div class="stat-item">
                        <span class="stat-label">Page Faults</span>
                        <span id="stat-faults" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Page Hits</span>
                        <span id="stat-hits" class="stat-value">0</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Hit Ratio</span>
                        <span id="stat-hit-ratio" class="stat-value">0.0%</span>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- 
      Link to the modular JavaScript files.
      'type="module"' allows us to use 'import' and 'export' between files.
    -->
    <script src="algorithms.js" type="module"></script>
    <script src="simulation.js" type="module"></script>
    <script src="main.js" type="module"></script>

</body>
</html>

