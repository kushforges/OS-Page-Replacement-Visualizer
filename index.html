<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Page Replacement Algorithm Visualizer</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Main Application Container -->
    <div id="app-container">

        <!-- Header -->
        <header class="header">
            <h1>OS Page Replacement Visualizer</h1>
            <p>Digital Assessment 1</p>
        </header>

        <!-- Main Content (Controls + Visualization) -->
        <main class="main-content">

            <!-- Controls Panel (Left) -->
            <div class="panel" id="controls-panel">
                
                <!-- Section 1: Algorithm Setup -->
                <section class="control-section" id="setup-section">
                    <h2>1. Setup Simulation</h2>
                    
                    <!-- Algorithm Selection -->
                    <div class="form-group">
                        <label for="algorithm-select">Algorithm:</label>
                        <select id="algorithm-select" class="input-field">
                            <option value="fifo">FIFO (First-In, First-Out)</option>
                            <option value="lru">LRU (Least Recently Used)</option>
                            <option value="optimal">Optimal (OPT)</option>
                        </select>
                    </div>
                    
                    <!-- Memory Frames Input -->
                    <div class="form-group">
                        <label for="num-frames">Number of Memory Frames (1-8):</label>
                        <input type="number" id="num-frames" class="input-field" value="3" min="1" max="8">
                    </div>
                    
                    <!-- Page Reference String Input -->
                    <div class="form-group">
                        <label for="page-string">Page Reference String (comma-separated):</label>
                        <input type="text" id="page-string" class="input-field" value="7, 0, 1, 2, 0, 3, 0, 4, 2, 3, 0, 3, 2">
                        <p class="hint">e.g., 7, 0, 1, 2, 0, 3, 0, 4</p>
                    </div>
                    
                    <!-- Start Button -->
                    <button id="btn-start" class="btn btn-primary">Start Simulation</button>
                </section>

                <!-- Section 2: Animation Controls (Initially hidden) -->
                <section class="control-section hidden" id="animation-section">
                    <h2>2. Animation Controls</h2>
                    
                    <!-- Play/Pause Buttons -->
                    <div class="button-group">
                        <button id="btn-play" class="btn" disabled>Play</button>
                        <button id="btn-pause" class="btn" disabled>Pause</button>
                    </div>
                    
                    <!-- Step Buttons -->
                    <div class="button-group">
                        <button id="btn-step-back" class="btn btn-secondary" disabled>Step Back</button>
                        <button id="btn-step-forward" class="btn btn-secondary" disabled>Step Forward</button>
                    </div>
                    
                    <!-- Speed Slider -->
                    <div class="form-group">
                        <label for="speed-slider">Animation Speed (Steps/sec)</label>
                        <input type="range" id="speed-slider" min="0.5" max="10" value="2" step="0.5">
                    </div>
                    
                    <!-- Reset Button -->
                    <button id="btn-reset" class="btn btn-danger">Reset Simulation</button>
                </section>

                <!-- Section 3: Export -->
                <section class="control-section">
                    <h2>3. Export</h2>
                    <button id="btn-screenshot" class="btn btn-secondary">Export Screenshot</button>
                </section>
            </div>

            <!-- Visualization Area (Right) -->
            <div class="panel" id="visualization-panel">
                
                <!-- Visualization Header (Status) -->
                <div class="viz-header">
                    <h2 id="viz-title">Visualization</h2>
                    <div id="event-status-box" class="status-box status-idle">
                        Waiting to start...
                    </div>
                </div>
                
                <!-- Canvas -->
                <div class="canvas-container">
                    <canvas id="simulation-canvas" width="800" height="500"></canvas>
                </div>
                
                <!-- Statistics Footer -->
                <div class="stats-footer">
                    <h2 class="stats-title">Execution Statistics</h2>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <span class="stat-label">Page Faults</span>
                            <span id="stat-faults" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Page Hits</span>
                            <span id="stat-hits" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Total References</span>
                            <span id="stat-steps" class="stat-value">0</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-label">Hit Ratio</span>
                            <span id="stat-hit-ratio" class="stat-value">0.0%</span>
                        </div>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <!-- 
      - 'algorithms.js' contains the specific replacement logic.
      - 'simulation.js' contains the state controller and drawing logic.
      - 'main.js' contains the UI event listeners and initializes the app.
    -->
    <script src="algorithms.js" type="module"></script>
    <script src="simulation.js" type="module"></script>
    <script src="main.js" type="module"></script>

</body>
</html>

